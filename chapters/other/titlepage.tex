
% Emulating a budget 'case' switch statement here

% \ifstrequal from etoolbox doesn't work, it does not expand macros.
% Use \ifdefstring from same package,
% see also https://tex.stackexchange.com/a/451937/120853

\ifdefstring{\cookbook@titlestyle}{thesis}{
    % These exist already, overwrite:
    \setkomafont{title}{\sffamily\bfseries\Huge}
    \setkomafont{subtitle}{\normalfont\normalsize\sffamily}
    \setkomafont{author}{\sffamily\bfseries}
    \setkomafont{publishers}{\sffamily}
%
    % One same line as subtitle, so should look the same; inherit style:
    \setkomafont{date}{\usekomafont{subtitle}}
%
    \setkomafont{documenttype}{\usekomafont{subtitle}\footnotesize}
%
    \renewcommand{\maketitle}{%
        \begin{titlepage}
            \hfill%
            %
            % 2nd optional argument is height, required for \vfill etc. to work
            \begin{minipage}[b][1\textheight]{0.05\textwidth}%
                \color{black}\rule{0.15em}{\textheight}% Vertical line
                \hfill%
            \end{minipage}% This comment char is important to suppress linebreak
            %
            \begin{minipage}[b][1\textheight]{0.75\textwidth}
                \vspace{4\baselineskip}
                {\usekomafont{documenttype}\faGraduationCap{}\ \@documenttype{}\hspace{0.5em}}
                \hrulefill
                \begin{spacing}{1.1}% In case of multi-line titles, more relaxed spacing
                    \usekomafont{title}\raggedright\@title
                \end{spacing}
                \hrule
                \vspace{0.8\baselineskip}
                {%
                    \usekomafont{author}%
                    % Tabular enables \and and \\ syntax
                    \begin{tabular}[t]{@{}l@{}}%
                        \@author
                    \end{tabular}
                }%
                \hfill
                {\usekomafont{date}\@date}\par
                \vfill
                {\usekomafont{subtitle}\@subtitle}\par
                \vspace{2\baselineskip}
                {%
                    \usekomafont{publishers}%
                    \begin{tabular}[t]{@{}l@{}}%
                        \@publishers
                    \end{tabular}
                }\par
                \vspace{0.2ex}% Also required for \vfill as something to 'fill against'
            \end{minipage}
        \end{titlepage}
    }%
}{%
    % Else: nothing; faking a 'case' environment
}

\ifdefstring{\cookbook@titlestyle}{book}{
    % These exist already, overwrite:
    \setkomafont{title}{\sffamily\bfseries\Huge}
    \setkomafont{subtitle}{\itshape}
    \setkomafont{author}{\scshape\Large}
    \setkomafont{date}{\normalfont\normalsize\sffamily}
    \setkomafont{publishers}{\scshape}
%
    % One same line as date, so should look the same; inherit style:
    \setkomafont{documenttype}{\usekomafont{date}}
%
    \renewcommand{\maketitle}{%
        \begin{titlepage}
            \hfill%
            %
            % 2nd optional argument is height, required for \vfill etc. to work
            \begin{minipage}[b][1\textheight]{0.05\textwidth}%
                \color{black}\rule{0.15em}{\textheight}% Vertical line
                \hfill%
            \end{minipage}% This comment char is important to suppress linebreak
            %
            \begin{minipage}[b][1\textheight]{0.75\textwidth}
                \vspace{2\baselineskip}
                {\usekomafont{author}
                    % Tabular enables \and and \\ syntax
                    \begin{tabular}[t]{@{}l@{}}%
                        \@author
                    \end{tabular}
                }\par
                \vspace{1.5\baselineskip}
                \begin{spacing}{1.1}% In case of multi-line titles, more relaxed spacing
                    \usekomafont{title}\raggedright\@title
                \end{spacing}
                \hrule
                \vspace{0.8\baselineskip}
                {\usekomafont{documenttype}\@subtitle}
                \hfill
                {\usekomafont{date}\@date}\par
                \vfill
                {\usekomafont{publishers}
                \begin{tabular}[t]{@{}l@{}}%
                    \@publishers
                    \end{tabular}
                }\par
                \vspace{0.2ex}% Also required for \vfill as something to 'fill against'
            \end{minipage}
        \end{titlepage}
    }%
}{
    % Else: nothing; faking a 'case' environment
}%
